(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var s=n(1),r=n.n(s),a=n(9),c=n.n(a),o=(n(21),n(3)),i=n(4),l=n(6),u=n(5),d=(n(22),n(7)),j=n(2),b="LIST_ALL_TASKS",p="SAVE_TASK",h="TOGGLE_FORM",m="OPEN_FORM",f="CLOSE_FORM",O="UPDATE_STATUS_TASK",x="DELETE_TASK",v="EDIT_ITEM",g="FILTER_TABLE",y="SEARCH_TASK",k="SORT_TASK",N=function(){return{type:h}},S=function(){return{type:f}},T=function(t){return{type:v,task:t}},w=n(0),C=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).changStatus=function(e){t.props.onUpdateStatus(e)},t.deleteTask=function(e){t.props.onDeleteTask(e),t.props.onCloseForm()},t.updateTask=function(){t.props.onOpenForm(),t.props.onEditTask(t.props.taskDetail)},t.showStatus=function(){return 1===t.props.taskDetail.status?Object(w.jsx)("span",{className:"bg-success p-2 rounded text-white cursor-pointer",onClick:function(){return t.changStatus(t.props.taskDetail.id)},children:"Active"}):0===t.props.taskDetail.status?Object(w.jsx)("span",{className:"bg-danger p-2 rounded text-white cursor-pointer",onClick:function(){return t.changStatus(t.props.taskDetail.id)},children:"Hidden"}):2===t.props.taskDetail.status?Object(w.jsx)("span",{className:"bg-info p-2 rounded text-white cursor-pointer",onClick:function(){return t.changStatus(t.props.taskDetail.id)},children:"Processing.."}):void 0},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:this.props.taskIndex+1}),Object(w.jsx)("td",{children:this.props.taskDetail.name}),Object(w.jsx)("td",{className:"text-center align-middle text-white",children:this.showStatus()}),Object(w.jsxs)("td",{className:"text-center",children:[Object(w.jsxs)("button",{type:"button",className:"btn btn-warning",onClick:function(){return t.updateTask()},children:[Object(w.jsx)("span",{className:"fa fa-pencil mr-1"}),"Edit"]}),"\xa0",Object(w.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:function(){return t.deleteTask(t.props.taskDetail.id)},children:[Object(w.jsx)("span",{className:"fa fa-trash mr-1"}),"Delete"]})]})]})}}]),n}(s.Component),F=Object(j.b)((function(t){return{}}),(function(t,e){return{onUpdateStatus:function(e){t(function(t){return{type:O,id:t}}(e))},onDeleteTask:function(e){t(function(t){return{type:x,id:t}}(e))},onCloseForm:function(){t(S())},onOpenForm:function(){t({type:m})},onEditTask:function(e){t(T(e))}}}))(C),E=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).onFilter=function(t){var e=t.target.name,n=t.target.value;"filterStatus"===e&&(n=Number(n));var r={name:"filterName"===e?n:s.state.filterName,status:"filterStatus"===e?Number(n):s.state.filterStatus};s.setState(Object(d.a)({},e,n)),s.props.onFilterTable(r)},s.state={filterName:"",filterStatus:-1},s}return Object(i.a)(n,[{key:"render",value:function(){var t=this.props,e=t.tasks,n=t.filterTable,s=t.keyword,r=t.sort;n.name&&(e=e.filter((function(t){return-1!==t.name.toLowerCase().indexOf(n.name.toLowerCase())}))),n.status>=0&&(e=e.filter((function(t){return-1===n.status?e:t.status===n.status?t.status===n.status:void 0}))),s&&(e=e.filter((function(t){return-1!==t.name.toLowerCase().indexOf(s)}))),"name"===r.sortBy?e.sort((function(t,e){return t.name<e.name?-r.sortValue:t.name>e.name?r.sortValue:void 0})):e.sort((function(t,e){return t.status<e.status?-r.sortValue:r.sortValue}));var a=e.map((function(t,e){return Object(w.jsx)(F,{taskDetail:t,taskIndex:e},e)}));return Object(w.jsx)("div",{className:"row mt-15",children:Object(w.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",children:Object(w.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"text-center",children:"STT"}),Object(w.jsx)("th",{className:"text-center",children:"T\xean"}),Object(w.jsx)("th",{className:"text-center",children:"Tr\u1ea1ng Th\xe1i"}),Object(w.jsx)("th",{className:"text-center",children:"H\xe0nh \u0110\u1ed9ng"})]})}),Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"text",className:"form-control",name:"filterName",value:this.state.filterName,onChange:this.onFilter})}),Object(w.jsx)("td",{children:Object(w.jsxs)("select",{className:"form-control",name:"filterStatus",value:this.state.fitlerStatus,onChange:this.onFilter,children:[Object(w.jsx)("option",{value:-1,children:"All"}),Object(w.jsx)("option",{value:0,children:"Hidden"}),Object(w.jsx)("option",{value:1,children:"Active"}),Object(w.jsx)("option",{value:2,children:"On process"})]})}),Object(w.jsx)("td",{})]}),a]})]})})})}}]),n}(s.Component),D=Object(j.b)((function(t){return{tasks:t.tasks,filterTable:t.filterTable,keyword:t.searchTask,sort:t.sortTask}}),(function(t,e){return{onFilterTable:function(e){t(function(t){return{type:g,filter:t}}(e))}}}))(E),_=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).onChangeFn=function(t){var e=t.target.name,n=t.target.value;s.setState(Object(d.a)({},e,n))},s.onClearFn=function(){s.setState({name:"",status:1})},s.onSubmitFn=function(t){t.preventDefault(),s.props.onSaveTask(s.state),s.onClearFn(),s.props.onCloseForm()},s.showTitle=function(){return""===s.state.id?"New task":"Edit task"},s.state={id:"",name:"",status:1},s}return Object(i.a)(n,[{key:"componentWillMount",value:function(){if(this.props.itemEditing){var t=this.props.itemEditing;this.setState({id:t.id,name:t.name,status:t.status})}else this.setState({id:"",name:"",status:2})}},{key:"componentWillReceiveProps",value:function(t){if(t&&t.itemEditing){var e=t.itemEditing;this.setState({id:e.id,name:e.name,status:e.status})}else this.setState({id:"",name:"",status:2})}},{key:"render",value:function(){return Object(w.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-3 col-lg-3 border p-2",children:Object(w.jsxs)("div",{className:"panel panel-warning",children:[Object(w.jsx)("div",{className:"panel-heading",children:Object(w.jsx)("h2",{className:"panel-title text-center",children:this.showTitle()})}),Object(w.jsx)("div",{className:"panel-body",children:Object(w.jsxs)("form",{onSubmit:this.onSubmitFn,children:[Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Name :"}),Object(w.jsx)("input",{type:"text",className:"form-control",name:"name",value:this.state.name,onChange:this.onChangeFn})]}),Object(w.jsx)("label",{children:"Status :"}),Object(w.jsxs)("select",{className:"form-control",required:"required",name:"status",value:this.state.status,onChange:this.onChangeFn,children:[Object(w.jsx)("option",{value:0,children:"Hidden"}),Object(w.jsx)("option",{value:1,children:"Active"}),Object(w.jsx)("option",{value:2,children:"On process.."})]}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"text-right",children:[Object(w.jsx)("button",{type:"submit",className:"btn btn-block btn-warning",children:"Save"}),"\xa0"]})]})})]})})}}]),n}(s.Component),A=Object(j.b)((function(t){return{itemEditing:t.itemEditing}}),(function(t,e){return{onSaveTask:function(e){t(function(t){return{type:p,task:t}}(e))},onCloseForm:function(){t(S())}}}))(_),V=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).onSearch=function(t){s.props.onSearch(t)},s.onSearchKeyword=function(t){var e=t.target.name,n=t.target.value;s.setState(Object(d.a)({},e,n))},s.state={keyword:""},s}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(w.jsxs)("div",{className:"input-group",children:[Object(w.jsx)("input",{type:"text",className:"form-control",placeholder:"Key...",onChange:this.onSearchKeyword,name:"keyword",value:this.state.keyword}),Object(w.jsx)("span",{className:"input-group-btn",children:Object(w.jsx)("button",{className:"btn btn-primary ml-1",type:"button",onClick:function(){return t.onSearch(t.state.keyword)},children:Object(w.jsx)("span",{className:"fa fa-search"})})})]})})}}]),n}(s.Component),L=Object(j.b)((function(t){return{}}),(function(t,e){return{onSearch:function(e){t(function(t){return{type:y,keyword:t}}(e))}}}))(V),I=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).onSort=function(e,n){t.props.onSort({sortBy:e,sortValue:n})},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(w.jsxs)("div",{className:"dropdown",children:[Object(w.jsxs)("button",{className:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true",children:["Sort ",Object(w.jsx)("span",{className:"fa fa-caret-square-o-down ml-1"})]}),Object(w.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1",children:[Object(w.jsx)("li",{className:"name"===this.props.sort.sortBy&&1===this.props.sort.sortValue?"sort_selected":" ",children:Object(w.jsx)("a",{role:"button",onClick:function(){return t.onSort("name",1)},children:Object(w.jsx)("span",{className:"fa fa-sort-alpha-asc pr-5",children:"T\xean A-Z"})})}),Object(w.jsx)("li",{className:"name"===this.props.sort.sortBy&&-1===this.props.sort.sortValue?"sort_selected":" ",children:Object(w.jsx)("a",{role:"button",onClick:function(){return t.onSort("name",-1)},children:Object(w.jsx)("span",{className:"fa fa-sort-alpha-desc pr-5",children:"T\xean Z-A"})})}),Object(w.jsx)("li",{role:"separator",className:"divider"}),Object(w.jsx)("li",{className:"status"===this.props.sort.sortBy&&1===this.props.sort.sortValue?"sort_selected":" ",children:Object(w.jsx)("a",{role:"button",onClick:function(){return t.onSort("status",1)},children:"Active & Hidden status"})}),Object(w.jsx)("li",{className:"status"===this.props.sort.sortBy&&-1===this.props.sort.sortValue?"sort_selected":" ",children:Object(w.jsx)("a",{role:"button",onClick:function(){return t.onSort("status",-1)},children:"Process status"})})]})]})})}}]),n}(s.Component),B=Object(j.b)((function(t){return{sort:t.sortTask}}),(function(t,e){return{onSort:function(e){t(function(t){return{type:k,sort:t}}(e))}}}))(I),K=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).changeDisplayValue=function(){t.props.onToggleForm(),t.props.onClear({id:"",name:"",status:2})},t.showButton=function(){return t.props.displayValue?Object(w.jsx)("button",{type:"button",className:"btn btn-danger mb-3",onClick:function(){return t.changeDisplayValue()},children:"Cancel"}):Object(w.jsx)("button",{type:"button",className:"btn btn-primary mb-3",onClick:function(){return t.changeDisplayValue()},children:"Add new task"})},t.onSort=function(e,n){t.props.onSort(e,n)},t}return Object(i.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{children:[this.showButton(),Object(w.jsxs)("div",{className:"row mt-15 mb-3",children:[Object(w.jsx)(L,{}),Object(w.jsx)(B,{})]})]})}}]),n}(s.Component),R=Object(j.b)((function(t){return{displayValue:t.isDisplayForm}}),(function(t,e){return{onToggleForm:function(){t(N())},onClear:function(e){t(T(e))}}}))(K),M=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).showForm=function(){if(t.props.isDisplayForm)return Object(w.jsx)(A,{})},t.onCloseForm=function(){t.props.onCloseForm()},t}return Object(i.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("div",{className:"jumbotron",children:Object(w.jsx)("h1",{className:"display-3 text-center text-uppercase",children:"To do list"})}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[this.showForm(),Object(w.jsxs)("div",{className:"col-xs col-sm col-md col-lg",children:[Object(w.jsx)(R,{}),Object(w.jsx)(D,{})]})]})})]})}}]),n}(s.Component),P=Object(j.b)((function(t){return{isDisplayForm:t.isDisplayForm}}),(function(t,e){return{onToggleForm:function(){t(N())},onCloseForm:function(){t(S())}}}))(M),H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,s=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),s(t),r(t),a(t),c(t)}))},J=n(8),U=n(16),X=n(10),q=n(34),G=JSON.parse(localStorage.getItem("tasks")),W=G||[],Z=function(t,e){var n=-1;return t.forEach((function(t,s){t.id===e&&(n=s)})),n},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0,n="",s=-1;switch(e.type){case b:return t;case p:var r={id:e.task.id,name:e.task.name,status:Number(e.task.status)};return r.id?t[s=Z(t,r.id)]=r:(r.id=Object(q.a)(),t.push(r)),localStorage.setItem("tasks",JSON.stringify(t)),Object(X.a)(t);case O:n=e.id,s=Z(t,n);var a=Object(U.a)({},t[s]);return-1!==s&&a.status>-1&&a.status<3&&(2===a.status?a.status=0:a.status=a.status+1,t[s]=a,localStorage.setItem("tasks",JSON.stringify(t))),Object(X.a)(t);case x:return n=e.id,-1!==(s=Z(t,n))&&t.splice(s,1),localStorage.setItem("tasks",JSON.stringify(t)),Object(X.a)(t);default:return t}},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return!t;case f:return t=!1;case m:return t=!0;default:return t}},Y={},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:return e.task;default:return t}},tt={name:"",status:-1},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return e.filter;default:return t}},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return e.keyword;default:return t}},st={sortBy:"name",sortValue:1},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return e.sort;default:return t}},at=Object(J.b)({tasks:z,isDisplayForm:Q,itemEditing:$,filterTable:et,searchTask:nt,sortTask:rt}),ct=Object(J.c)(at,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(j.a,{store:ct,children:Object(w.jsx)(P,{})})}),document.getElementById("root")),H()}},[[32,1,2]]]);
//# sourceMappingURL=main.42d9b64b.chunk.js.map